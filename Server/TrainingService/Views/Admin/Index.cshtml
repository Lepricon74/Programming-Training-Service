@model TrainingService.ViewModels.IndexViewModel
@{
	ViewBag.Title = "Главная страница";
}
<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="~/css/site.css" />
<h2>Управление контентом</h2>
<table class="table">	
	<tr>
		<td>
			<a class="btn btn-sm btn-primary" asp-action="AddLesson">Добавить урок</a>
			<a class="btn btn-sm btn-primary" asp-action="AddArticle">Добавить статью</a>
			<a class="btn btn-sm btn-primary" asp-action="AddPicture">Добавить изображение</a>
		</td>
		@*<td>
			<form asp-action="DeleteRole" asp-route-id="@role.Id" method="post">
				<button type="submit" class="btn btn-sm btn-danger">
					Удалить
				</button>
			</form>
		</td>*@
	</tr>
</table>
<h2>Список ролей</h2>
<table class="table">
	@foreach (var role in Model.Roles)
	{
		<tr>
			<td>@role.Name</td>
			@*<td>
					<form asp-action="DeleteRole" asp-route-id="@role.Id" method="post">
						<button type="submit" class="btn btn-sm btn-danger">
							Удалить
						</button>
					</form>
				</td>*@
		</tr>
	}
</table>
<a asp-action="CreateRole">Добавить роль</a>
<h2>Список Пользователей</h2>
<table class="table">
	<tr><th>Email</th><th>Роль</th><th></th></tr>
	@foreach (var user in Model.Users)
	{
		string role = Model.AdminUsers.Contains(user) ? "admin" : "user";
		<tr>
			<td>@user.Email</td>
			<td>@role</td>
			<td>
				<form asp-action="DeleteUser" asp-route-id="@user.Id" method="post">
					<a class="btn btn-sm btn-primary" asp-action="Edit" asp-route-id="@user.Id">Изменить</a>
					<a class="btn btn-sm btn-primary" asp-action="ChangePassword" asp-route-id="@user.Id">Сменить пароль</a>
					<button type="submit" class="btn btn-sm btn-danger">
						Удалить
					</button>
				</form>
			</td>
		</tr>
	}
</table>
<a asp-action="CreateUser">Добавить пользователя</a>
